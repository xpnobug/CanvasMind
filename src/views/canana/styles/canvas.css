/* 画布工作台样式 */

/* 主编辑器容器 */
.image-editor-container-QrfPhz {
    height: 100vh;
    position: relative;
    width: 100vw;
}

/* 隐藏样式 */
.hide-Qd41HQ {
    display: none !important;
}

/* 工作台容器 */
.workbench-A4zK0t {
    display: flex;
    height: 100%;
    overflow: hidden;
    position: relative;
    width: 100%;
    --right-panel-width: 440px;
}

.workbench-main-content-ykueXe {
    transition: width 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    width: calc(100% - var(--right-panel-width));
    will-change: width;
}

.workbench-content-m9A7DE {
    display: flex;
    flex-direction: column;
    height: 100%;
}

/* 头部栏 */
.header-Je2TNo {
    height: 60px;
    justify-content: space-between;
    left: 0;
    padding: 0 12px;
    pointer-events: none;
    right: 0;
    top: 0;
    z-index: 100;
    align-items: center;
    display: flex;
    position: absolute;
}

.top-bar-left-YR5Y3G {
    -webkit-backdrop-filter: blur(var(--canvas-float-backdrop-blur));
    backdrop-filter: blur(var(--canvas-float-backdrop-blur));
    background: var(--canvas-bg-block-default, rgba(15, 15, 18, 0.72));
    border-radius: 8px;
    height: 36px;
    left: 12px;
    pointer-events: auto;
    align-items: center;
    display: flex;
    position: absolute;
}

.top-bar-right-hz2yRl {
    align-items: center;
    display: flex;
    pointer-events: auto;
    position: absolute;
    right: 12px;
    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.top-bar-right-when-right-panel-open-mCwLJr {
    transform: translateX(calc(var(--right-panel-width) * -1));
}

/* 左侧工具栏 */
.left-toolbar-R3x3z9 {
    background: transparent;
    border: none;
    left: 12px;
    padding: 0;
    top: 50%;
    transform: translateY(-50%);
    position: absolute;
    z-index: 100;
}

.left-toolbar-R3x3z9 > * {
    pointer-events: auto;
}

/* 主内容区 */
.main-content-G8f_tC {
    background-color: var(--canvas-bg, #0f0f12);
    display: flex;
    flex: 1 1;
    flex-direction: column;
    overflow-y: auto;
    position: relative;
}

/* 画布容器 */
.canvas-container-ciI9cJ {
    flex: 1 1;
    height: 100%;
    overflow: hidden;
    position: relative;
    width: 100%;
    z-index: 1;
}

/* 底部左侧控件 */
.bottom-left-widget-jcEzp3 {
    bottom: 12px;
    left: 12px;
    position: absolute;
    z-index: 1000001;
}

/* 右侧面板 */
.right-panel-gZhdnT {
    background-color: var(--canvas-sidebar-bg);
    border-image: linear-gradient(
        180deg,
        hsla(0, 0%, 100%, 0),
        rgba(215, 218, 224, 0.15),
        rgba(183, 189, 200, 0.276),
        rgba(170, 177, 190, 0.15),
        rgba(122, 133, 153, 0)
    ) 0 100%;
    border-left-style: solid;
    border-left-width: 1px;
    bottom: 0;
    display: flex;
    flex-direction: column;
    gap: 20px;
    overflow-y: auto;
    position: fixed;
    right: 0;
    top: 0;
    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    transform: translateX(100%);
    width: var(--right-panel-width);
    z-index: 10000;
}

.workbench-A4zK0t.right-panel-open-JXfTGq .right-panel-gZhdnT {
    transform: translateX(0);
}

/* 工具栏 */
.toolbar-zDoGgL {
    align-items: center;
    display: flex;
    justify-content: center;
    pointer-events: none;
    position: absolute;
    z-index: 100000;
}

.top-toolbar-V6aN6e {
    height: 60px;
    left: 0;
    right: 0;
    top: 0;
}

.top-toolbar-content {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 8px 12px;
    background: var(--canvas-float-block-default);
    backdrop-filter: blur(var(--canvas-float-backdrop-blur));
    border: 0.5px solid var(--stroke-tertiary);
    border-radius: 10px;
    box-shadow: var(--shadow-generator-float-block);
}

.bottom-toolbar-PE8gbm {
    bottom: 0;
    left: 0;
    right: 0;
}

/* 调整大小手柄 */
.resize-handle-AIPywp {
    background: transparent;
    bottom: 0;
    cursor: col-resize;
    pointer-events: auto;
    position: fixed;
    right: calc(var(--right-panel-width) - 4px);
    top: 0;
    width: 4px;
    z-index: 10002;
}

.resize-handle-AIPywp:after {
    background-color: var(--brand-main-default);
    border-radius: 12px;
    content: "";
    height: 97%;
    left: 0;
    opacity: 0;
    pointer-events: none;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    transition: opacity 0.1s ease;
    width: 2px;
}

.resize-handle-AIPywp:hover:after {
    opacity: 1;
    transition-delay: 0.4s;
}

.resize-handle-AIPywp:not(:hover):after {
    transition-delay: 0s;
}

.resize-handle-AIPywp:active:after {
    background-color: var(--brand-main-pressed);
    opacity: 1;
}

/* 按钮样式 */
.button-lc3WzE.lv-btn {
    align-items: center;
    display: flex;
    flex-shrink: 0;
    font-family: var(--alphanumeric-font-family);
    justify-content: center;
}

.button-lc3WzE.lv-btn-size-default.lv-btn-icon-only {
    height: 36px;
    width: 36px;
}

.button-lc3WzE.lv-btn-size-default:not(.lv-btn-shape-circle).lv-btn-icon-only,
.button-lc3WzE.lv-btn-size-default:not(.lv-btn-shape-circle) > svg {
    font-size: 16px;
}

.button-lc3WzE.lv-btn-size-default.lv-btn-shape-circle.lv-btn-icon-only {
    font-size: 20px;
}

.button-lc3WzE.lv-btn-icon-only {
    padding: 0;
}

.button-lc3WzE > svg {
    min-width: 1em;
}

/* 主内容区 */
.main-content-pao8ef {
    flex: 1 1;
    margin-right: -8px;
    position: relative;
}

/* 选择器样式 */
.select-joF5y7 {
    font-family: var(--alphanumeric-font-family);
    font-weight: 400;
    width: auto;
}

.select-joF5y7.lv-select.lv-select-single .lv-select-view {
    font-size: 12px;
}

.select-joF5y7.compact-OC0Z0c.lv-select.lv-select-single .lv-select-view {
    padding: 0;
}

.select-joF5y7.compact-OC0Z0c.lv-select.lv-select-size-default .lv-select-view-value {
    justify-content: center;
    width: 34px;
}

.select-joF5y7.lv-select-single .lv-select-view-value {
    gap: 4px;
}

.select-joF5y7.lv-select-single .lv-select-view-value:after {
    display: none;
}

.select-joF5y7.lv-select-single .lv-select-view-value .select-option-icon-LQHnJG {
    font-size: 16px;
}

.select-joF5y7.lv-select-single .lv-select-view-selector {
    overflow: visible;
}

.select-option-icon-LQHnJG {
    align-items: center;
    display: flex;
    justify-content: center;
}

/* 参考图上传 */
.reference-upload-h7tmnr {
    align-items: center;
    display: flex;
    justify-content: center;
    background-color: var(--bg-block-primary-default);
    border: 1px dotted var(--stroke-secondary);
    border-radius: 2px;
    bottom: 0;
    box-sizing: border-box;
    color: var(--text-placeholder);
    cursor: pointer;
    flex-direction: column;
    font-size: 16px;
    height: 100%;
    pointer-events: auto;
    position: absolute;
    right: 0;
    transform: rotate(var(--rotate));
    transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                height 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                border-radius 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    width: 100%;
    will-change: width, height, border-radius, opacity, transform;
}

.reference-upload-h7tmnr .icon-TrJRuq {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform;
}


.top-tool-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 8px 14px;
    background: transparent;
    border: none;
    border-radius: 8px;
    color: var(--text-primary);
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    white-space: nowrap;
}

.top-tool-btn:hover {
    background: rgba(255, 255, 255, 0.1);
}

.top-tool-btn.has-dropdown {
    gap: 4px;
}

.top-tool-btn .dropdown-icon {
    margin-left: 2px;
}

.bottom-toolbar {
    bottom: 0;
    left: 0;
    right: 0;
}

/* 动画 */
@keyframes fadeIn-LHrkUz {
    0% {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes fadeOut-IB19eW {
    0% {
        opacity: 1;
    }
    to {
        opacity: 0;
    }
}

@keyframes showPanel-UZzNMT {
    0% {
        transform: scale(0.95);
    }
    to {
        transform: scale(1);
    }
}

@keyframes hidePanel-O5HwQ3 {
    0% {
        transform: scale(1);
    }
    to {
        transform: scale(0.95);
    }
}

@keyframes circle-loader-rotate-dEfkzH {
    0% {
        transform: rotate(0);
    }
    to {
        transform: rotate(1turn);
    }
}

@keyframes enable-pointer-events-tq4Rte {
    0% {
        pointer-events: none;
    }
    to {
        pointer-events: auto;
    }
}

/* Firefox 滚动条样式 */
@-moz-document url-prefix() {
    .textarea-rfj34A.lv-textarea {
        scrollbar-color: var(--scrollbar-background-color) transparent;
        scrollbar-width: thin;
    }
}

/* ContentGenerator 画布布局 */
.canvas-layout-blZ0JP,
.task-indicator-container-m3Oy09 {
    --content-generator-max-width: 840px;
    --content-generator-min-width: 440px;
}

@media screen and (max-width: 1920px) {
    .canvas-layout-blZ0JP:not(.collapsed-KU1VpV),
    .task-indicator-container-m3Oy09:not(.collapsed-KU1VpV) {
        --content-generator-max-width: 720px;
    }
}

.canvas-layout-blZ0JP.collapsed-KU1VpV,
.task-indicator-container-m3Oy09.collapsed-KU1VpV {
    --content-generator-max-width: var(--content-generator-min-width);
}

/* ContentGenerator 在画布页面的定位 */
/*.canvas-content-generator {*/
/*    position: absolute;*/
/*    bottom: 12px;*/
/*    left: 50%;*/
/*    transform: translateX(-50%);*/
/*    z-index: 1000000;*/
/*    pointer-events: auto;*/
/*    box-sizing: border-box;*/
/*    width: 100%;*/
/*    max-width: clamp(440px, 100% - 376px, 840px);*/
/*    min-width: 440px;*/
/*}*/

/* 右侧面板关闭时主内容区宽度调整 */
.workbench-A4zK0t:not(.right-panel-open-JXfTGq) .workbench-main-content-ykueXe {
    width: 100%;
}

/* 右侧面板关闭时面板滑出 */
.workbench-A4zK0t:not(.right-panel-open-JXfTGq) .right-panel-gZhdnT {
    transform: translateX(100%);
}

/* 调整大小手柄仅在右侧面板打开时显示 */
.workbench-A4zK0t:not(.right-panel-open-JXfTGq) .resize-handle-AIPywp {
    display: none;
}

/* ========== 右侧面板内部结构样式 ========== */

/* Agent 容器 */
.agent-X3m2wp {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
}

/* 聊天容器 */
.chat-container-R89Jq6 {
    display: flex;
    flex-direction: column;
    height: 100%;
    position: relative;
}

/* 聊天头部 */
.chat-header-irtdzC {
    align-items: center;
    border-bottom: 1px solid var(--stroke-tertiary);
    display: flex;
    flex-shrink: 0;
    justify-content: space-between;
    padding: 12px 16px;
}

.trigger-container-vbLYgU {
    align-items: center;
    cursor: pointer;
    display: flex;
    gap: 4px;
}

.trigger-container-vbLYgU .title-vBcivv {
    color: var(--text-primary);
    font-size: 14px;
    font-weight: 500;
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.trigger-container-vbLYgU .arrow-icon-uG49Bu {
    align-items: center;
    color: var(--text-tertiary);
    display: flex;
    justify-content: center;
}

/* 头部操作按钮 */
.actions-bl5UWA {
    align-items: center;
    display: flex;
    gap: 8px;
}

.filter-button-IXmviq,
.operation-button-bwA7yT {
    align-items: center;
    background: transparent;
    border: none;
    border-radius: 8px;
    color: var(--text-secondary);
    cursor: pointer;
    display: flex;
    height: 32px;
    justify-content: center;
    padding: 0;
    transition: all 0.2s;
    width: 32px;
}

.filter-button-IXmviq:hover,
.operation-button-bwA7yT:hover {
    background: var(--bg-block-primary-hover);
    color: var(--text-primary);
}

.operation-button-bwA7yT.disabled-kGgYs7 {
    color: var(--text-quaternary);
    cursor: not-allowed;
    pointer-events: none;
}

/* 内容生成器在右侧面板的样式 */
.content-generator-XxJXPs {
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    z-index: 10;
}

/* 侧边栏内容生成器宽度限制 */
.chat-container-R89Jq6 .content-generator-XxJXPs {
    margin: 0 20px 20px;
    max-width: calc(100% - 40px);
    min-width: calc(100% - 40px);
}

/* 侧边栏布局提交按钮容器样式 */
.canvas-layout-blZ0JP .collapsed-submit-button-container-jhILhg {
    bottom: 16px;
    display: flex;
    gap: 12px;
    position: absolute;
    right: 16px;
    transition: transform var(--content-generator-collapse-transition-duration) var(--content-generator-collapse-transition-timing-function);
    will-change: transform;
}

/* 侧边栏布局提交按钮样式 */
.canvas-layout-blZ0JP .collapsed-submit-button-RE6ufv {
    overflow: hidden;
}

/* 侧边栏布局主内容区样式 */
.canvas-layout-blZ0JP .main-content-pao8ef {
    flex: 1 1;
    margin-right: 0;
    position: relative;
}

/* 侧边栏布局输入框高度 */
.canvas-layout-blZ0JP .prompt-container-SvZ73x {
    --content-generator-prompt-control-height: 24px;
    --content-generator-prompt-control-line-height: 24px;
}

/* 任务指示器容器 */
.task-indicator-container-m3Oy09 {
    bottom: calc(var(--content-generator-height, 100px) + 16px);
    left: 0;
    position: absolute;
    right: 0;
    z-index: 9;
    padding: 0 16px;
}

/* 消息列表区域 */
.chat-messages-list-KjR9xE {
    flex: 1;
    overflow-y: auto;
    padding: 16px;
    padding-bottom: 140px;
}

/* 消息行样式 */
.message-row-FjP2xZ {
    margin-bottom: 16px;
}

.message-row-FjP2xZ.user-MkS7tH {
    display: flex;
    justify-content: flex-end;
}

.message-row-FjP2xZ.ai-RnT4wK {
    display: flex;
    justify-content: flex-start;
}

/* 用户消息气泡 */
.user-bubble-Wp3kLl {
    background: var(--bg-block-primary-default);
    border-radius: 16px;
    color: var(--text-primary);
    font-size: 14px;
    line-height: 1.5;
    max-width: 85%;
    padding: 12px 16px;
}

/* AI 消息块 */
.ai-block-RtY5vW {
    width: 100%;
}

.ai-block-RtY5vW .summary-header-Hj8kPl {
    align-items: center;
    color: var(--text-primary);
    cursor: pointer;
    display: flex;
    font-size: 14px;
    justify-content: space-between;
    padding: 8px 0;
}

.ai-block-RtY5vW .summary-header-Hj8kPl svg {
    color: var(--text-tertiary);
    transition: transform 0.2s;
}

.ai-block-RtY5vW .summary-header-Hj8kPl svg.rotated-Kj9mNl {
    transform: rotate(180deg);
}

/* 图片网格 */
.images-row-Wp4kMn {
    display: flex;
    gap: 2px;
    margin-bottom: 12px;
}

.image-cell-Rk9pLq {
    aspect-ratio: 0.75;
    border-radius: 8px;
    cursor: pointer;
    flex: 1;
    overflow: hidden;
    position: relative;
    transition: transform 0.2s;
}

.image-cell-Rk9pLq:hover {
    transform: scale(1.02);
}

.image-cell-Rk9pLq img {
    height: 100%;
    object-fit: cover;
    width: 100%;
}

.more-badge-Tj8kNp {
    background: rgba(0, 0, 0, 0.6);
    border-radius: 4px;
    bottom: 8px;
    color: white;
    font-size: 12px;
    padding: 2px 6px;
    position: absolute;
    right: 8px;
}

/* AI 提示 */
.ai-notice-Kp3mRl {
    color: var(--text-tertiary);
    font-size: 12px;
    margin-bottom: 12px;
}

/* 操作按钮行 */
.action-row-Hn7kLp {
    align-items: center;
    display: flex;
    justify-content: space-between;
}

.action-left-Rn9kMp,
.action-right-Tp4kNl {
    display: flex;
    gap: 8px;
}

.action-btn-Wp3kLl {
    align-items: center;
    background: var(--bg-block-primary-default);
    border: none;
    border-radius: 20px;
    color: var(--text-secondary);
    cursor: pointer;
    display: flex;
    font-size: 13px;
    gap: 6px;
    padding: 8px 14px;
    transition: all 0.2s;
}

.action-btn-Wp3kLl:hover {
    background: var(--bg-block-primary-hover);
    color: var(--text-primary);
}

.action-btn-Wp3kLl.icon-only-Kj8mNp {
    border-radius: 50%;
    padding: 8px;
}

.feedback-btn-Rn7kLp {
    align-items: center;
    background: transparent;
    border: none;
    color: var(--text-tertiary);
    cursor: pointer;
    display: flex;
    height: 32px;
    justify-content: center;
    transition: color 0.2s;
    width: 32px;
}

.feedback-btn-Rn7kLp:hover {
    color: var(--text-primary);
}

/* 带参考图的用户消息 */
.message-row-FjP2xZ.user-ref-Kp9mNl {
    align-items: flex-start;
    display: flex;
    gap: 10px;
}

.ref-avatar-Wp3kLl {
    border-radius: 8px;
    flex-shrink: 0;
    height: 36px;
    overflow: hidden;
    width: 36px;
}

.ref-avatar-Wp3kLl img {
    height: 100%;
    object-fit: cover;
    width: 100%;
}

.ref-content-Rn8kMp {
    flex: 1;
}

.ref-text-Tj7kNl {
    color: var(--text-primary);
    font-size: 14px;
    line-height: 1.5;
    margin-bottom: 4px;
}

.ref-meta-Kp4mLp {
    color: var(--text-tertiary);
    font-size: 12px;
}

/* 生成的图片网格 */
.generated-grid-Wp5kMn {
    display: grid;
    gap: 2px;
    grid-template-columns: repeat(4, 1fr);
    margin-bottom: 12px;
}

.gen-image-cell-Rk8pLq {
    aspect-ratio: 0.75;
    border-radius: 6px;
    cursor: pointer;
    overflow: hidden;
    transition: transform 0.2s;
}

.gen-image-cell-Rk8pLq:hover {
    transform: scale(1.02);
}

.gen-image-cell-Rk8pLq img {
    height: 100%;
    object-fit: cover;
    width: 100%;
}

.gen-actions-Tp3kNl {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}